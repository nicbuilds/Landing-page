<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Project details for Forward Consultants Network's environmental consulting work">
  <!-- OpenGraph Meta Tags -->
  <meta property="og:title" content="Project Details | Forward Consultants Network">
  <meta property="og:description" content="Detailed case study of our environmental consulting project in Mexico">
  <meta property="og:type" content="website">
  <title>Project Details | Forward Consultants Network</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <!-- Flag Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flag-icons/6.6.6/css/flag-icons.min.css">
    <!-- Font Awesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <!-- Google Fonts - Poppins -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
  <!-- Nasalization Font -->
  <link rel="stylesheet" href="https://fwdco.net/nasalization-rg.ttf">
  <!-- Favicon -->
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üå±</text></svg>">

   <style>
    @font-face {
      font-family: 'Nasalization';
      src: url('https://fwdco.net/nasalization-rg.ttf') format('truetype');
      font-weight: normal;
      font-style: normal;
    }
    
    body {
      font-family: 'Poppins', sans-serif;
    }
    
    /* Caption Text */
    .caption-text {
      font-family: 'Poppins', sans-serif;
      font-size: 5pt;
      line-height: 8pt;
    }
    
    /* Headlines Copy Text */
    .headline-copy {
      font-family: 'Nasalization', sans-serif;
      font-weight: 600; /* Semibold */
      text-transform: uppercase;
      font-size: 10pt;
      line-height: 10pt;
    }
    
    /* Copy Text */
    .copy-text {
      font-family: 'Poppins', sans-serif;
      font-size: 8pt;
      line-height: 11pt;
    }
    
    /* Sublines Sections */
    .subline-section {
      font-family: 'Nasalization', sans-serif;
      font-weight: 700; /* Bold */
      text-transform: uppercase;
      font-size: 13pt;
      line-height: 16pt;
    }
    
    /* Big Headings */
    .big-heading {
      font-family: 'Nasalization', sans-serif;
      font-weight: 700; /* Bold */
      text-transform: uppercase;
      font-size: 25pt;
      line-height: 30pt;
    }
    
    /* Apply to existing elements */
    h1, h2, h3, h4, h5, h6 {
      font-family: 'Nasalization', sans-serif;
      text-transform: uppercase;
    }
    
    h1 {
      font-size: 25pt;
      line-height: 30pt;
      font-weight: 700;
    }
    
    h2 {
      font-size: 13pt;
      line-height: 16pt;
      font-weight: 700;
    }
    
    h3 {
      font-size: 10pt;
      line-height: 10pt;
      font-weight: 600;
    }
    
    p, li, a, span, input, textarea, button {
      font-family: 'Poppins', sans-serif;
    }
    
    /* Hero Section Adjustments */
    .hero-gradient h1 {
      font-size: 25pt;
      line-height: 30pt;
    }
    
    /* Services Section */
    #services h2 {
      font-size: 13pt;
      line-height: 16pt;
    }
    
    #services h3 {
      font-size: 10pt;
      line-height: 10pt;
    }
    
    /* Industries Section */
    #industries h2 {
      font-size: 13pt;
      line-height: 16pt;
    }
    
    #industries h3 {
      font-size: 10pt;
      line-height: 10pt;
    }
    
    /* Testimonials */
    .testimonials h2 {
      font-size: 13pt;
      line-height: 16pt;
    }
    
    /* Contact Section */
    #contact h2 {
      font-size: 13pt;
      line-height: 16pt;
    }
    
    /* Footer */
    footer h3, footer h4 {
      font-size: 10pt;
      line-height: 10pt;
    }
    
    footer p, footer li {
      font-size: 8pt;
      line-height: 11pt;
    }
    
    .hero-gradient {
      background: linear-gradient(135deg, rgba(20, 184, 166, 0.9) 0%, rgba(15, 23, 42, 0.9) 100%);
    }
  </style>
  <style>
    .hero-gradient {
      background: linear-gradient(135deg, rgba(20, 184, 166, 0.9) 0%, rgba(15, 23, 42, 0.9) 100%);
    }
    .project-header {
      background-color: #1B2B40;
      color: white;
    }
    .accent-bg {
      background-color: #A3B4BF;
    }
    .accent-text {
      color: #03A63C;
    }
    .secondary-accent {
      background-color: #8BD9B4;
    }
    .highlight {
      background-color: #41BF78;
    }
  </style>

</head>
<body class="bg-gray-50 text-gray-800">
  <!-- Header -->
  <header class="bg-white text-[#0F172A] py-4 shadow-md sticky top-0 z-50">
    <div class="container mx-auto px-4">
      <!-- Mobile Version - Centered Logo and Menu -->
      <div class="md:hidden flex flex-col items-center">
        <div class="mb-3">
          <a href="index-es.html">
            <img src="IMG_5174.jpg" 
                 alt="Forward Consultants Network"
                 class="h-12 w-auto mx-auto">          
          </a>
        </div>
        <nav class="flex flex-wrap justify-center gap-3" aria-label="Main navigation">
          <a href="#" class="hover:text-[#1B2B40] font-medium text-sm">Inicio</a>
          <a href="#services" class="hover:text-[#1B2B40] font-medium text-sm">Servicios</a>
          <a href="#industries" class="hover:text-[#1B2B40] font-medium text-sm">Industrias</a>
          <a href="portafolio-es.html" class="hover:text-[#1B2B40] font-medium">Portafolio</a>
          <a href="#contact" class="hover:text-[#1B2B40] font-medium text-sm">Contacto</a>
          <a href="index.html" class="hover:text-[#1B2B40] font-medium text-sm">
            <span class="fi fi-us" aria-label="English"></span>
          </a>
        </nav>
      </div>

      <!-- Desktop Version - Left Logo, Right Menu -->
      <div class="hidden md:flex justify-between items-center">
        <div>
          <a href="index-es.html">
            <img src="IMG_5174.jpg" 
                 alt="Forward Consultants Network"
                 class="h-12 w-auto">          
          </a>
        </div>
        <nav class="flex items-center gap-6" aria-label="Main navigation">
          <a href="#" class="hover:text-[#1B2B40] font-medium">Inicio</a>
          <a href="#services" class="hover:text-[#1B2B40] font-medium">Servicios</a>
          <a href="#industries" class="hover:text-[#1B2B40] font-medium">Industrias</a>
          <a href="portafolio-es.html" class="hover:text-[#1B2B40] font-medium">Portafolio</a>
          <a href="#contact" class="hover:text-[#1B2B40] font-medium">Contacto</a>
          <a href="index.html" class="hover:text-[#1B2B40] font-medium">
            <span class="fi fi-us" aria-label="English"></span>
          </a>
        </nav>
      </div>
    </div>
  </header>

<!-- Encabezado del Proyecto -->
<section class="project-header py-12">
  <div class="container mx-auto px-4">
    <div class="max-w-4xl mx-auto text-center">
      <span class="inline-block px-3 py-1 mb-4 text-xs font-semibold secondary-accent text-[#1B2B40] rounded-full">ESTUDIO DE CASO</span>
      <h1 class="text-3xl md:text-5xl font-bold mb-6">Desarrollo de Granja Solar en el Desierto de Sonora</h1>
      <p class="text-xl text-[#A3B4BF] max-w-2xl mx-auto">Evaluaci√≥n ambiental y gesti√≥n de permisos para una instalaci√≥n fotovoltaica de 150MW con almacenamiento en bater√≠as</p>
    </div>
  </div>
</section>

<!-- Metadatos del Proyecto -->
<section class="bg-white py-8 shadow-sm">
  <div class="container mx-auto px-4">
    <div class="grid md:grid-cols-4 gap-4 text-center">
      <div class="p-4">
        <h3 class="text-xs font-semibold text-gray-500 uppercase tracking-wider">Cliente</h3>
        <p class="font-medium">Sonora Renewable Energy Partners</p>
      </div>
      <div class="p-4">
        <h3 class="text-xs font-semibold text-gray-500 uppercase tracking-wider">Ubicaci√≥n</h3>
        <p class="font-medium">Hermosillo, Sonora</p>
      </div>
      <div class="p-4">
        <h3 class="text-xs font-semibold text-gray-500 uppercase tracking-wider">Duraci√≥n</h3>
        <p class="font-medium">22 meses</p>
      </div>
      <div class="p-4">
        <h3 class="text-xs font-semibold text-gray-500 uppercase tracking-wider">Servicios</h3>
        <p class="font-medium">MIA, Permisos de Uso de Suelo, Protecci√≥n de Vida Silvestre</p>
      </div>
    </div>
  </div>
</section>

<!-- Contenido del Proyecto -->
<main class="container mx-auto px-4 py-12">
  <div class="max-w-5xl mx-auto">
    <!-- Galer√≠a del Proyecto -->
    <section class="mb-16">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div class="col-span-2">
          <img src="https://images.unsplash.com/photo-1508514177221-188b1cf16e9d?ixlib=rb-1.2.1&auto=format&fit=crop&w=1200&q=80" 
               alt="Vista a√©rea de instalaci√≥n de paneles solares" 
               class="w-full h-96 object-cover rounded-lg shadow-lg">
        </div>
      </div>
    </section>

    <!-- Resumen del Proyecto -->
    <section class="mb-16">
      <div class="grid md:grid-cols-3 gap-8">
        <div class="md:col-span-2">
          <h2 class="text-3xl font-bold mb-6 accent-text">Resumen del Proyecto</h2>
          <p class="text-lg mb-4">Forward Consultants Network gestion√≥ todo el proceso de permisos ambientales para una instalaci√≥n fotovoltaica de 150MW con capacidad de almacenamiento en bater√≠as de 50MWh en el Desierto de Sonora.</p>
          <p class="mb-4">El proyecto incluy√≥ estudios exhaustivos de los ecosistemas des√©rticos, mapeo de h√°bitats de especies en peligro, an√°lisis microclim√°ticos y estudios arqueol√≥gicos. Implementamos soluciones innovadoras para minimizar la perturbaci√≥n del terreno mientras maximizamos la eficiencia de producci√≥n energ√©tica.</p>
          <p>La instalaci√≥n cuenta con tecnolog√≠a de seguimiento de un eje, sistemas rob√≥ticos de limpieza para reducir el uso de agua y cercado compatible con la vida silvestre para permitir el movimiento de especies nativas. Nuestro equipo obtuvo todas las aprobaciones necesarias manteniendo el agresivo cronograma del proyecto.</p>
        </div>
        <div class="bg-[#F8FAFC] p-6 rounded-lg shadow-sm h-fit">
          <h3 class="text-xl font-bold mb-4 accent-text">Datos Clave del Proyecto</h3>
          <ul class="space-y-3">
            <li class="pb-3 border-b border-gray-200">
              <span class="block font-semibold">Capacidad Total</span>
              <span>150 MW (CA)</span>
            </li>
            <li class="pb-3 border-b border-gray-200">
              <span class="block font-semibold">√Årea del Terreno</span>
              <span>300 hect√°reas</span>
            </li>
            <li class="pb-3 border-b border-gray-200">
              <span class="block font-semibold">Almacenamiento en Bater√≠as</span>
              <span>50 MWh</span>
            </li>
            <li class="pb-3 border-b border-gray-200">
              <span class="block font-semibold">Producci√≥n Anual</span>
              <span>320 GWh</span>
            </li>
            <li class="pb-3">
              <span class="block font-semibold">Reducci√≥n de CO‚ÇÇ</span>
              <span>180,000 toneladas/a√±o</span>
            </li>
          </ul>
        </div>
      </div>
    </section>

    <!-- Desaf√≠os y Soluciones -->
    <section class="mb-16">
      <h2 class="text-3xl font-bold mb-8 accent-text">Desaf√≠os y Soluciones</h2>
      <div class="grid md:grid-cols-2 gap-8">
        <div class="bg-white p-6 rounded-lg shadow-sm border-l-4 highlight border-[#03A63C]">
          <h3 class="text-xl font-bold mb-3">Protecci√≥n de la Tortuga del Desierto</h3>
          <p>El sitio conten√≠a h√°bitat de la tortuga del desierto de Sonora en peligro de extinci√≥n. Desarrollamos un programa de reubicaci√≥n y monitoreo en coordinaci√≥n con las autoridades ambientales, incluyendo la creaci√≥n de un √°rea de conservaci√≥n protegida de 50 hect√°reas adyacente al proyecto.</p>
        </div>
        <div class="bg-white p-6 rounded-lg shadow-sm border-l-4 highlight border-[#03A63C]">
          <h3 class="text-xl font-bold mb-3">Manejo de Polvo</h3>
          <p>Para mitigar la generaci√≥n de polvo en el ambiente √°rido, implementamos un innovador plan de preservaci√≥n de vegetaci√≥n y medidas de estabilizaci√≥n de suelos que redujeron las emisiones potenciales de part√≠culas en un 75% comparado con m√©todos convencionales.</p>
        </div>
        <div class="bg-white p-6 rounded-lg shadow-sm border-l-4 highlight border-[#03A63C]">
          <h3 class="text-xl font-bold mb-3">Conservaci√≥n de Agua</h3>
          <p>En esta regi√≥n con escasez de agua, dise√±amos un sistema rob√≥tico de limpieza de paneles que usa 90% menos agua que los m√©todos tradicionales, junto con un sistema de captaci√≥n de agua pluvial para necesidades de mantenimiento.</p>
        </div>
        <div class="bg-white p-6 rounded-lg shadow-sm border-l-4 highlight border-[#03A63C]">
          <h3 class="text-xl font-bold mb-3">Conexi√≥n a la Red</h3>
          <p>La ubicaci√≥n remota requiri√≥ un cuidadoso trazado de l√≠neas de transmisi√≥n para minimizar el impacto ambiental. Identificamos un corredor √≥ptimo de 12km que evitaba √°reas sensibles mientras cumpl√≠a con los requisitos t√©cnicos.</p>
        </div>
      </div>
    </section>

    <!-- Resultados -->
    <section class="mb-16">
      <div class="secondary-accent rounded-lg p-8">
        <h2 class="text-3xl font-bold mb-6 text-[#1B2B40]">Resultados del Proyecto</h2>
        <div class="grid md:grid-cols-3 gap-6">
          <div class="bg-white p-6 rounded-lg shadow-sm">
            <div class="text-4xl font-bold mb-2 accent-text">100%</div>
            <p>de los permisos ambientales aprobados seg√∫n el cronograma</p>
          </div>
          <div class="bg-white p-6 rounded-lg shadow-sm">
            <div class="text-4xl font-bold mb-2 accent-text">0</div>
            <p>incidentes de da√±o a especies en peligro durante la construcci√≥n</p>
          </div>
          <div class="bg-white p-6 rounded-lg shadow-sm">
            <div class="text-4xl font-bold mb-2 accent-text">25%</div>
            <p>mayor rendimiento energ√©tico mediante colocaci√≥n optimizada de paneles</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Testimonio -->
    <section class="mb-16 max-w-3xl mx-auto">
      <blockquote class="p-8 bg-white rounded-lg shadow-sm">
        <div class="text-2xl italic mb-6">
          "La experiencia de Forward Consultants Network en ecosistemas des√©rticos fue invaluable para nuestro proyecto solar. No solo navegaron los complejos requisitos de permisos, sino que tambi√©n nos ayudaron a implementar medidas de sustentabilidad que convirtieron esta instalaci√≥n en un modelo para el desarrollo de energ√≠a renovable en ambientes sensibles."
        </div>
        <div class="flex items-center">
          <div class="bg-gray-200 w-12 h-12 rounded-full"></div>
          <div class="ml-4">
            <div class="font-bold">Robert Johnson</div>
            <div class="text-gray-600">CEO, Sonora Renewable Energy Partners</div>
          </div>
        </div>
      </blockquote>
    </section>
      <!-- Llamado a la Acci√≥n -->
      <section class="text-center py-12">
        <h2 class="text-3xl font-bold mb-4 accent-text">¬øListo para comenzar tu proyecto?</h2>
        <p class="text-xl mb-8 max-w-2xl mx-auto">Nuestro equipo de expertos ambientales est√° listo para ayudarte a navegar el panorama regulatorio de M√©xico y alcanzar tus objetivos de desarrollo sustentable.</p>
        <a href="https://fwdco.net/index-es.html#contact" class="inline-block highlight text-white font-bold py-3 px-8 rounded-lg hover:bg-[#03A63C] transition duration-300">
          Contacta a Nuestro Equipo
        </a>
      </section>
    </div>
  </main>

  <footer class="bg-gray-800 text-white py-8 mt-12">
    <div class="container mx-auto px-4">
      <div class="grid md:grid-cols-4 gap-8 mb-8">
        <div>
          <h3 class="text-lg font-bold mb-4">Forward Consultants Network</h3>
          <p class="text-gray-300">Expertos en cumplimiento ambiental y soluciones de desarrollo sustentable en M√©xico.</p>
        </div>
        <div>
          <h4 class="text-lg font-bold mb-4">Servicios</h4>
          <ul class="space-y-2">
            <li><a href="#services" class="text-gray-300 hover:text-white">Evaluaciones de Impacto</a></li>
            <li><a href="#services" class="text-gray-300 hover:text-white">Gesti√≥n de Permisos</a></li>
            <li><a href="#services" class="text-gray-300 hover:text-white">Monitoreo de Cumplimiento</a></li>
            <li><a href="#services" class="text-gray-300 hover:text-white">Respuesta a Emergencias</a></li>
          </ul>
        </div>
        <div>
          <h4 class="text-lg font-bold mb-4">Contacto</h4>
          <address class="not-italic text-gray-300">
            <p>19 108b Chuburna</p>
            <p>M√©rida, Yucat√°n, MX 97205</p>
            <p class="mt-2">contact@fwdco.net</p>
            <p>+52 999 739 4656</p>
          </address>
        </div>
        <div>
          <h4 class="text-lg font-bold mb-4">Certificaciones</h4>
          <div class="flex flex-wrap gap-4">
            <div class="bg-gray-700 p-2 rounded w-20 h-20 flex items-center justify-center">SEMARNAT</div>
            <div class="bg-gray-700 p-2 rounded w-20 h-20 flex items-center justify-center">PROFEPA</div>
          </div>
        </div>
      </div>
      <div class="border-t border-gray-700 pt-6 text-center text-gray-400 text-sm">
        <p>&copy; 2025 Forward Consultants Network. Todos los derechos reservados.</p>
        <div class="mt-2 space-x-4">
          <a href="#" class="hover:text-white">Pol√≠tica de Privacidad</a>
          <a href="#" class="hover:text-white">T√©rminos de Servicio</a>
        </div>
      </div>
    </div>
  </footer>

   <!-- Botones flotantes -->
  <div class="call-button" id="callButton">
    <a href="tel:+529997394656" class="flex items-center justify-center w-full h-full">
      <i class="fas fa-phone text-white text-xl"></i>
    </a>
  </div>

  <div class="chat-modal" id="chatModal">
    <div class="chat-header">
      <span>Asistente de Cumplimiento Ambiental</span>
      <span class="chat-close" id="chatClose">&times;</span>
    </div>
    <div class="chat-body" id="chatBody">
      <div class="chat-message agent-message">
¬°Buen d√≠a! Soy su asistente de cumplimiento ambiental. ¬øEn qu√© puedo ayudarle hoy respecto a permisos de SEMARNAT, evaluaciones de impacto ambiental u otras consultas regulatorias?      </div>
    </div>
    <div class="chat-input-area">
      <textarea class="chat-input" id="userInput" placeholder="Ask about environmental regulations..." rows="2"></textarea>
      <button class="chat-submit" id="chatSubmit">Send</button>
    </div>
    <div class="typing-indicator" id="typingIndicator">
      <span></span><span></span><span></span>
    </div>
  </div>

  <div class="chat-button" id="chatButton">
    <i class="fas fa-comment-dots text-white text-xl"></i>
  </div>

  <style>
    /* Estilos para el bot√≥n de llamada */
    .call-button {
      position: fixed;
      bottom: 100px;
      right: 30px;
      width: 60px;
      height: 60px;
      background-color: #3b82f6; /* Azul */
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      z-index: 1000;
      transition: all 0.3s ease;
    }

    .call-button:hover {
      background-color: #2563eb; /* Azul m√°s oscuro al hover */
      transform: scale(1.05);
    }

    /* Estilos para el chat */
    .chat-button {
      position: fixed;
      bottom: 30px;
      right: 30px;
      width: 60px;
      height: 60px;
      background-color: #059669;
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      z-index: 1000;
      transition: all 0.3s ease;
    }

    .chat-button:hover {
      background-color: #047857;
      transform: scale(1.05);
    }

    .chat-modal {
      position: fixed;
      bottom: 100px;
      right: 30px;
      width: 350px;
      max-height: 500px;
      background-color: white;
      border-radius: 12px;
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
      z-index: 1001;
      display: none;
      flex-direction: column;
      overflow: hidden;
      border: 1px solid #e5e7eb;
    }

    .chat-modal.active {
      display: flex;
    }

    .chat-header {
      background-color: #059669;
      color: white;
      padding: 15px;
      font-weight: bold;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .chat-close {
      cursor: pointer;
      font-size: 20px;
    }

    .chat-body {
      flex: 1;
      padding: 15px;
      overflow-y: auto;
      background-color: #f9fafb;
    }

    .chat-message {
      margin-bottom: 12px;
      max-width: 80%;
      padding: 10px 14px;
      border-radius: 18px;
      line-height: 1.4;
      font-size: 14px;
    }

    .user-message {
      background-color: #d1fae5;
      color: #065f46;
      margin-left: auto;
      border-bottom-right-radius: 4px;
    }

    .agent-message {
      background-color: white;
      color: #1f2937;
      margin-right: auto;
      border-bottom-left-radius: 4px;
      border: 1px solid #e5e7eb;
    }

    .chat-input-area {
      padding: 12px;
      border-top: 1px solid #e5e7eb;
      background-color: white;
    }

    .chat-input {
      width: 100%;
      padding: 10px 14px;
      border: 1px solid #e5e7eb;
      border-radius: 8px;
      resize: none;
      font-family: sans-serif;
      margin-bottom: 8px;
    }

    .chat-submit {
      background-color: #059669;
      color: white;
      border: none;
      padding: 8px 16px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 500;
      width: 100%;
    }

    .chat-submit:hover {
      background-color: #047857;
    }

    .typing-indicator {
      display: none;
      padding: 10px 14px;
      background-color: white;
      border-radius: 18px;
      border: 1px solid #e5e7eb;
      margin-bottom: 12px;
      width: fit-content;
    }

    .typing-indicator span {
      height: 8px;
      width: 8px;
      background-color: #6b7280;
      border-radius: 50%;
      display: inline-block;
      margin: 0 2px;
      animation: typing 1s infinite ease-in-out;
    }

    .typing-indicator span:nth-child(2) { animation-delay: 0.2s; }
    .typing-indicator span:nth-child(3) { animation-delay: 0.4s; }

    @keyframes typing {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-5px); }
    }
  </style>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const chatButton = document.getElementById('chatButton');
      const chatModal = document.getElementById('chatModal');
      const chatClose = document.getElementById('chatClose');
      const chatBody = document.getElementById('chatBody');
      const userInput = document.getElementById('userInput');
      const chatSubmit = document.getElementById('chatSubmit');
      const typingIndicator = document.getElementById('typingIndicator');

      // Generate and persist sessionId
      let sessionId = localStorage.getItem("bedrockSessionId");
      if (!sessionId) {
        sessionId = crypto.randomUUID();
        localStorage.setItem("bedrockSessionId", sessionId);
      }

      chatButton.addEventListener('click', () => {
        chatModal.classList.toggle('active');
      });

      chatClose.addEventListener('click', () => {
        chatModal.classList.remove('active');
      });

      chatSubmit.addEventListener('click', sendMessage);
      userInput.addEventListener('keypress', (e) => {
        if (e.key === 'Enter' && !e.shiftKey) {
          e.preventDefault();
          sendMessage();
        }
      });

      async function sendMessage() {
        const query = userInput.value.trim();
        if (!query) return;

        addMessage(query, 'user');
        userInput.value = '';
        typingIndicator.style.display = 'block';
        chatBody.scrollTop = chatBody.scrollHeight;

        try {
          const res = await fetch("https://k0jmry5lx4.execute-api.us-east-1.amazonaws.com/prod/invoke", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ input: query, sessionId: sessionId })
          });

          const data = await res.json();
          addMessage(data.response || "I couldn't get a response. Please try again.", 'agent');
        } catch (error) {
          console.error("Error:", error);
          addMessage("Sorry, there was an error processing your request.", 'agent');
        } finally {
          typingIndicator.style.display = 'none';
        }
      }

      function addMessage(text, sender) {
        const messageDiv = document.createElement('div');
        messageDiv.classList.add('chat-message', sender === 'user' ? 'user-message' : 'agent-message');
        messageDiv.textContent = text;
        chatBody.appendChild(messageDiv);
        chatBody.scrollTop = chatBody.scrollHeight;
      }
    });
  </script>
</body>
</html>

